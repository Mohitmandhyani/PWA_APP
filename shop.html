<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - Mobile Shop</title>
    <link rel="stylesheet" href="style.css">
    <!-- Link to manifest.json -->
    <link rel="manifest" href="manifest.json" />
</head>
<body>
    <header>
        <h1>Mobile Shop By Mohit</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <!-- Link to shop page -->
                <li><a href="shop.html">Shop Now</a></li>
                <li><a href="About.html">About</a></li>
                <li><a href="Contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="featured-products">
            <h2>Shop Cart </h2>
            <div class="product-list">
                <!-- Product listings go here -->
                <div class="product-card">
                    <img src="images/ip15.jpg" alt="Iphone 15">
                    <h3>Iphone 15</h3>
                    <p class="price">$499</p>
                    <!-- Product Counter -->
                    <div class="product-counter">
                        <button onclick="decreaseCount()">-</button>
                        <span class="count">0</span>
                        <button onclick="increaseCount()">+</button>
                    </div>
                </div>
                <div class="product-card">
                    <img src="images/s21fe.jpeg" alt="Samsung S21 fe">
                    <h3>Samsung S21 FE</h3>
                    <p class="price">$430</p>
                    <!-- Product Counter -->
                    <div class="product-counter">
                        <button onclick="decreaseCount()">-</button>
                        <span class="count">0</span>
                        <button onclick="increaseCount()">+</button>
                    </div>
                </div>
                <!-- Add more product cards with images -->
            </div>
            <!-- Proceed to Payment button -->
            <button onclick="proceedToPayment()">Proceed to Payment</button>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Mobile Shop. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    <script>
        window.addEventListener('load', () => {
            registerSW();
        });

        // Register the Service Worker
        async function registerSW() {
            if ('serviceWorker' in navigator) {
                try {
                    await navigator
                        .serviceWorker
                        .register('serviceworker.js');
                } catch (e) {
                    console.log('SW registration failed');
                }
            }
        }

        // Function to handle "Proceed to Payment" action
        function proceedToPayment() {
            // Redirect to the payment page
            window.location.href = "payment.html";
        }

        // Function to increase product count
        function increaseCount() {
            const countElement = event.target.parentElement.querySelector('.count');
            let count = parseInt(countElement.innerText);
            countElement.innerText = count + 1;
        }

        // Function to decrease product count
        function decreaseCount() {
            const countElement = event.target.parentElement.querySelector('.count');
            let count = parseInt(countElement.innerText);
            if (count > 0) {
                countElement.innerText = count - 1;
            }
        }
    </script>
</body>
</html>
